<!doctype html>

<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>梅花心易｜五行定吉凶（五面向分析 Demo）</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .tab-active { @apply border-b-2 border-slate-900 text-slate-900; }
  </style>
</head>
<body class="bg-gradient-to-b from-white to-slate-50 text-slate-800 min-h-screen">
  <div class="max-w-5xl mx-auto p-6 md:p-10 space-y-6">
    <header class="flex items-center justify-between">
      <h1 class="text-2xl md:text-3xl font-bold tracking-tight">梅花心易｜五行定吉凶（五面向分析 Demo）</h1>
      <button id="resetBtn" class="px-3 py-2 text-sm rounded-xl border shadow-sm hover:bg-slate-50">重置示例</button>
    </header><!-- 輸入區 -->
<section class="bg-white rounded-2xl shadow-sm border p-5">
  <h2 class="font-semibold mb-4">輸入區</h2>
  <div class="grid md:grid-cols-3 gap-4">
    <div>
      <label class="text-sm font-medium">下卦（內卦）</label>
      <select id="lowerSelect" class="mt-1 w-full border rounded-xl p-2">
      </select>
    </div>
    <div>
      <label class="text-sm font-medium">上卦（外卦）</label>
      <select id="upperSelect" class="mt-1 w-full border rounded-xl p-2">
      </select>
    </div>
    <div>
      <label class="text-sm font-medium">動爻（1~6，自下而上）</label>
      <input id="movingInput" type="number" min="1" max="6" step="1" class="mt-1 w-full border rounded-xl p-2" value="1" />
    </div>
  </div>
</section>

<!-- 推算結果 -->
<section class="bg-white rounded-2xl shadow-sm border p-5">
  <h2 class="font-semibold mb-4">推算結果</h2>
  <div class="grid md:grid-cols-3 gap-4 text-sm" id="resultCards">
    <div>
      <div class="font-medium">本卦</div>
      <div id="baseLower"></div>
      <div id="baseUpper"></div>
    </div>
    <div>
      <div class="font-medium">互卦</div>
      <div id="mutualLower"></div>
      <div id="mutualUpper"></div>
    </div>
    <div>
      <div class="font-medium">變卦</div>
      <div id="changedLower"></div>
      <div id="changedUpper"></div>
    </div>
  </div>
</section>

<!-- 分頁 -->
<section class="bg-white rounded-2xl shadow-sm border p-5">
  <div class="flex gap-4 border-b pb-2 text-sm">
    <button class="tab-btn tab-active" data-tab="human">人</button>
    <button class="tab-btn" data-tab="event">事</button>
    <button class="tab-btn" data-tab="time">時</button>
    <button class="tab-btn" data-tab="place">地</button>
    <button class="tab-btn" data-tab="object">物</button>
  </div>
  <div class="pt-4 text-sm leading-7">
    <div id="tab-human" class="tab-pane"></div>
    <div id="tab-event" class="tab-pane hidden">
      <h3 class="font-medium">「事」的判讀框架（待填入）</h3>
      <p>可依五行生克強弱推事勢：本卦（用對體）主當下形勢；互卦主過程與中間人物；變卦主趨勢與結果。可加入「六親、用忌、旺相休囚」等權重。</p>
    </div>
    <div id="tab-time" class="tab-pane hidden">
      <h3 class="font-medium">「時」的判讀框架（待填入）</h3>
      <p>以季節與納甲等方法權重：春木旺、夏火旺、秋金旺、冬水旺、四季末土旺；互卦與變卦生扶剋泄可作時間窗口判斷。</p>
    </div>
    <div id="tab-place" class="tab-pane hidden">
      <h3 class="font-medium">「地」的判讀框架（待填入）</h3>
      <p>以卦象方位地理：兌為西澤、離為南火熱、艮為東北山、巽為東南風木……據此推測方位與環境屬性。</p>
    </div>
    <div id="tab-object" class="tab-pane hidden">
      <h3 class="font-medium">「物」的判讀框架（待填入）</h3>
      <p>離主光明/電器/文書，兌主金屬/口舌，巽主木製/可彎曲，艮主石土/止物……可改為 JSON 表並加上權重配對。</p>
    </div>
  </div>
</section>

<footer class="text-xs text-slate-500 text-center pt-2">© <span id="year"></span> 梅花心易前端示範 — 可自由改作商業/教學用途。</footer>

  </div>  <script>
    const TRIGRAMS = [
      { key: "乾", bin: [1,1,1], element: "金", person: "父、長者、領導", body: "首、骨、肺經上部", symbol: "天" },
      { key: "兌", bin: [0,1,1], element: "金", person: "少女、悅口之人", body: "口、肺、咽喉", symbol: "澤" },
      { key: "離", bin: [1,0,1], element: "火", person: "中女、文明之人", body: "目、心、血分", symbol: "火" },
      { key: "震", bin: [0,0,1], element: "木", person: "長男、驚動者", body: "足、肝膽", symbol: "雷" },
      { key: "巽", bin: [1,1,0], element: "木", person: "長女、商賈、流通者", body: "股、大腿、筋", symbol: "風" },
      { key: "坎", bin: [0,1,0], element: "水", person: "中男、行旅、險難者", body: "腎、耳、血", symbol: "水" },
      { key: "艮", bin: [1,0,0], element: "土", person: "少男、門戶、止守者", body: "背、手、鼻", symbol: "山" },
      { key: "坤", bin: [0,0,0], element: "土", person: "母、眾、承載者", body: "腹、脾、肌肉", symbol: "地" },
    ];

    const ELEMENTS = {
      木: { generates: "火", overcomes: "土", generatedBy: "水", overcomeBy: "金" },
      火: { generates: "土", overcomes: "金", generatedBy: "木", overcomeBy: "水" },
      土: { generates: "金", overcomes: "水", generatedBy: "火", overcomeBy: "木" },
      金: { generates: "水", overcomes: "木", generatedBy: "土", overcomeBy: "火" },
      水: { generates: "木", overcomes: "火", generatedBy: "金", overcomeBy: "土" },
    };

    const $ = (sel)=>document.querySelector(sel);
    const $$ = (sel)=>Array.from(document.querySelectorAll(sel));

    function optionHtml(t) { return `<option value="${t.key}">${t.key}（${t.symbol}／${t.element}）</option>`; }

    function initSelectors() {
      const lowerSel = $('#lowerSelect');
      const upperSel = $('#upperSelect');
      lowerSel.innerHTML = TRIGRAMS.map(optionHtml).join('');
      upperSel.innerHTML = TRIGRAMS.map(optionHtml).join('');
      lowerSel.value = '離';
      upperSel.value = '兌';
    }

    function buildHexagram(lowerKey, upperKey){
      const lower = TRIGRAMS.find(t=>t.key===lowerKey);
      const upper = TRIGRAMS.find(t=>t.key===upperKey);
      const lines = [...lower.bin, ...upper.bin];
      return { lines, lower, upper };
    }

    function flipAt(lines, index1to6){
      const idx = index1to6 - 1;
      const next = lines.slice();
      next[idx] = next[idx] ? 0 : 1;
      return next;
    }

    function linesToTrigram(lines3){
      return TRIGRAMS.find(t=> t.bin.every((b,i)=>b===lines3[i]));
    }

    function hexFromLines(lines){
      const lower = linesToTrigram(lines.slice(0,3));
      const upper = linesToTrigram(lines.slice(3,6));
      return { lines, lower, upper };
    }

    function mutualHexagram(lines){
      const lowerMutual = lines.slice(1,4); // 2,3,4
      const upperMutual = lines.slice(2,5); // 3,4,5
      return { lower: linesToTrigram(lowerMutual), upper: linesToTrigram(upperMutual), lines: [...lowerMutual, ...upperMutual] };
    }

    function relation(fromElem, toElem){
      if (ELEMENTS[fromElem].generates === toElem) return '生';
      if (ELEMENTS[fromElem].overcomes === toElem) return '克';
      if (ELEMENTS[fromElem].generatedBy === toElem) return '被生';
      if (ELEMENTS[fromElem].overcomeBy === toElem) return '被克';
      return '平';
    }

    function prettyRelation(fromElem, toElem){
      const r = relation(fromElem, toElem);
      if (r==='生') return `${fromElem}生${toElem}`;
      if (r==='克') return `${fromElem}克${toElem}`;
      if (r==='被生') return `${fromElem}受${toElem}所生`;
      if (r==='被克') return `${fromElem}受${toElem}所克`;
      return `${fromElem}與${toElem}相平`;
    }

    function renderSummary(base, mutual, changed){
      $('#baseLower').textContent   = `下：${base.lower.key}（${base.lower.symbol}／${base.lower.element}）`;
      $('#baseUpper').textContent   = `上：${base.upper.key}（${base.upper.symbol}／${base.upper.element}）`;
      $('#mutualLower').textContent = `下：${mutual.lower.key}（${mutual.lower.symbol}／${mutual.lower.element}）`;
      $('#mutualUpper').textContent = `上：${mutual.upper.key}（${mutual.upper.symbol}／${mutual.upper.element}）`;
      $('#changedLower').textContent= `下：${changed.lower.key}（${changed.lower.symbol}／${changed.lower.element}）`;
      $('#changedUpper').textContent= `上：${changed.upper.key}（${changed.upper.symbol}／${changed.upper.element}）`;
    }

    function renderHuman(base, mutual, changed, movingLine){
      const isLowerMoving = movingLine >=1 && movingLine <=3;
      const mover = isLowerMoving ? base.lower : base.upper;
      const body  = isLowerMoving ? base.upper : base.lower;

      const step1 = prettyRelation(mover.element, body.element);
      const step2 = prettyRelation(mutual.upper.element, mutual.lower.element);
      const step3 = prettyRelation(changed.lower.element, changed.upper.element);

      const whoByTrigram = { 乾: '老父/長者/領導', 兌: '少女/悅口之人', 離: '中女/文化人士', 震: '長男/急躁者', 巽: '長女/商旅者', 坎: '中男/行旅者', 艮: '少男/小輩', 坤: '母/眾人/承載者' };
      const bodyPartByTrigram = { 乾: '首部', 兌: '口與肺系', 離: '目與心血', 震: '足', 巽: '股（大腿）', 坎: '腎耳血', 艮: '背手鼻', 坤: '腹脾肌' };

      const lines = [];
      lines.push(`<div><b>一、分析本卦、變卦、互卦之五行生克</b></div>`);
      lines.push(`<ul class="list-disc pl-5 mt-1 space-y-1">
        <li><b>本卦：</b>${isLowerMoving? '下' : '上'}${mover.key}${mover.element}為動卦，${isLowerMoving? '上' : '下'}${body.key}${body.element}為體卦，${step1}。</li>
        <li><b>變卦：</b>下${changed.lower.key}${changed.lower.element}，上${changed.upper.key}${changed.upper.element}，${step3}。</li>
        <li><b>互卦：</b>下${mutual.lower.key}${mutual.lower.element}，上${mutual.upper.key}${mutual.upper.element}，${step2}。</li>
      </ul>`);

      lines.push(`<div class="mt-3"><b>二、判斷（以人物身體象為切入）</b></div>`);
      const item1 = (mover.element==='火' && body.key==='兌')
        ? '以人象言，兌為少女，而火克金，易有受傷之象。'
        : `以人象言，${body.key}象為「${whoByTrigram[body.key]}」。`;
      lines.push(`<ol class="list-decimal pl-5 mt-1 space-y-1">
        <li>先看本卦：體卦為 ${body.key}${body.element}（${whoByTrigram[body.key]}），${item1}</li>
        <li>再看互卦：上互 ${mutual.upper.key}${mutual.upper.element} 對 下互 ${mutual.lower.key}${mutual.lower.element} 為「${relation(mutual.upper.element, mutual.lower.element)}」；${mutual.lower.key==='巽' ? '巽主股，推其部位在股（腿）。' : `身體部位參考：${mutual.lower.key}主「${bodyPartByTrigram[mutual.lower.key]}」。`}</li>
        <li>後看變卦：下變 ${changed.lower.key}${changed.lower.element} 對 上變 ${changed.upper.key}${changed.upper.element} 為「${relation(changed.lower.element, changed.upper.element)}」，${relation(changed.lower.element, changed.upper.element)==='生' ? '得生扶，象不至於極凶。' : '視生克強弱斟酌吉凶。'}</li>
      </ol>`);

      $('#tab-human').innerHTML = lines.join('\n');
    }

    function computeAndRender(){
      const lowerKey = $('#lowerSelect').value;
      const upperKey = $('#upperSelect').value;
      const movingLine = Math.max(1, Math.min(6, parseInt($('#movingInput').value || '1', 10)));

      const base = buildHexagram(lowerKey, upperKey);
      const changed = hexFromLines(flipAt(base.lines, movingLine));
      const mutual = mutualHexagram(base.lines);

      renderSummary(base, mutual, changed);
      renderHuman(base, mutual, changed, movingLine);
    }

    function bindEvents(){
      $('#lowerSelect').addEventListener('change', computeAndRender);
      $('#upperSelect').addEventListener('change', computeAndRender);
      $('#movingInput').addEventListener('input', computeAndRender);
      $('#resetBtn').addEventListener('click', ()=>{
        $('#lowerSelect').value = '離';
        $('#upperSelect').value = '兌';
        $('#movingInput').value = 1;
        activateTab('human');
        computeAndRender();
      });

      $$('.tab-btn').forEach(btn=>{
        btn.addEventListener('click', ()=> activateTab(btn.dataset.tab));
      });
    }

    function activateTab(name){
      $$('.tab-btn').forEach(b=> b.classList.toggle('tab-active', b.dataset.tab===name));
      $$('.tab-pane').forEach(p=> p.classList.add('hidden'));
      $('#tab-'+name).classList.remove('hidden');
    }

    // init
    document.addEventListener('DOMContentLoaded', ()=>{
      initSelectors();
      bindEvents();
      activateTab('human');
      computeAndRender();
      document.getElementById('year').textContent = new Date().getFullYear();
    });
  </script></body>
</html>// 以八卦二進位推 64 卦（自下而上 1~6 爻；1=陽、0=陰） function buildHexagram(lower: TrigramKey, upper: TrigramKey) { const lo = TRIGRAMS.find(t=>t.key===lower)!; const up = TRIGRAMS.find(t=>t.key===upper)!; const lines = [...lo.bin, ...up.bin]; // index: 0..5 = 初至上（自下而上） return { lines, lower: lo, upper: up }; }

function flipAt(lines: number[], index1to6: number) { const idx = index1to6 - 1; const next = [...lines]; next[idx] = next[idx] ? 0 : 1; return next; }

function linesToTrigram(lines3: number[]) { return TRIGRAMS.find(t => t.bin.every((b,i)=>b===lines3[i]))!; }

function hexFromLines(lines: number[]) { const lower = linesToTrigram(lines.slice(0,3)); const upper = linesToTrigram(lines.slice(3,6)); return { lines, lower, upper }; }

function mutualHexagram(lines: number[]) { // 互卦：下互取 25 爻 const lowerMutual = lines.slice(1, 4); // 2,3,4 const upperMutual = lines.slice(2, 5); // 3,4,5 return { lower: linesToTrigram(lowerMutual), upper: linesToTrigram(upperMutual), lines: [...lowerMutual, ...upperMutual] }; }

function relation(fromElem: string, toElem: string) { if (ELEMENTS[fromElem].generates === toElem) return "生"; if (ELEMENTS[fromElem].overcomes === toElem) return "克"; if (ELEMENTS[fromElem].generatedBy === toElem) return "被生"; if (ELEMENTS[fromElem].overcomeBy === toElem) return "被克"; return "平"; }

function prettyRelation(fromElem: string, toElem: string) { const r = relation(fromElem, toElem); switch (r) { case "生": return ${fromElem}生${toElem}; case "克": return ${fromElem}克${toElem}; case "被生": return ${fromElem}受${toElem}所生; case "被克": return ${fromElem}受${toElem}所克; default: return ${fromElem}與${toElem}相平; } }

function HumanInterpretation({ base, changed, mutual, movingLine, }: { base: ReturnType<typeof buildHexagram>, changed: ReturnType<typeof hexFromLines>, mutual: ReturnType<typeof mutualHexagram>, movingLine: number, }) { // 動體判定：動在下 ⇒ 下為用（動），上為體；動在上 ⇒ 上為用（動），下為體。 const isLowerMoving = movingLine >= 1 && movingLine <= 3; const mover = isLowerMoving ? base.lower : base.upper; const body = isLowerMoving ? base.upper : base.lower;

const step1 = prettyRelation(mover.element, body.element); // 本卦：動克/生體 const step2 = prettyRelation(mutual.upper.element, mutual.lower.element); // 互卦：上對下 const step3 = prettyRelation(changed.lower.element, changed.upper.element); // 變卦：下對上

const whoByTrigram: Record<TrigramKey, string> = { 乾: "老父/長者/領導", 兌: "少女/悅口之人", 離: "中女/文化人士", 震: "長男/急躁者", 巽: "長女/商旅者", 坎: "中男/行旅者", 艮: "少男/小輩", 坤: "母/眾人/承載者", };

const bodyPartByTrigram: Record<TrigramKey, string> = { 乾: "首部", 兌: "口與肺系", 離: "目與心血", 震: "足", 巽: "股（大腿）", 坎: "腎耳血", 艮: "背手鼻", 坤: "腹脾肌", };

return ( <div className="space-y-4"> <Card> <CardHeader> <CardTitle className="flex items-center gap-2"><Sparkles className="h-5 w-5"/>解卦（以「人」為例）</CardTitle> </CardHeader> <CardContent className="space-y-3 text-sm leading-7"> <div> <div className="font-medium">一、分析本卦、變卦、互卦之五行生克</div> <ul className="list-disc pl-5 mt-1 space-y-1"> <li> <b>本卦：</b> { ${isLowerMoving ? "下" : "上"}${mover.key}${mover.element}為動卦，} {${isLowerMoving ? "上" : "下"}${body.key}${body.element}為體卦，} {${step1}。} </li> <li> <b>變卦：</b> { 下${changed.lower.key}${changed.lower.element}，上${changed.upper.key}${changed.upper.element}，} {${prettyRelation(changed.lower.element, changed.upper.element)}。} </li> <li> <b>互卦：</b> { 下${mutual.lower.key}${mutual.lower.element}，上${mutual.upper.key}${mutual.upper.element}，} {${prettyRelation(mutual.upper.element, mutual.lower.element)}。} </li> </ul> </div> <div> <div className="font-medium">二、判斷（以人物身體象為切入）</div> <ol className="list-decimal pl-5 mt-1 space-y-1"> <li> 先看本卦：{體卦為 ${body.key}${body.element}（${whoByTrigram[body.key]}），} {mover.element === "火" && body.key === "兌" ? "以人象言，兌為少女，而火克金，易有受傷之象。" : 以人象言，${body.key}象為「${whoByTrigram[body.key]}」。} </li> <li> 再看互卦：{上互 ${mutual.upper.key}${mutual.upper.element} 對 下互 ${mutual.lower.key}${mutual.lower.element} 為「${relation(mutual.upper.element, mutual.lower.element)}」；} {mutual.lower.key === "巽" ? "巽主股，推其部位在股（腿）。" : 身體部位參考：${mutual.lower.key}主「${bodyPartByTrigram[mutual.lower.key]}」。} </li> <li> 後看變卦：{下變 ${changed.lower.key}${changed.lower.element} 對 上變 ${changed.upper.key}${changed.upper.element} 為「${relation(changed.lower.element, changed.upper.element)}」，} {relation(changed.lower.element, changed.upper.element) === "生" ? "得生扶，象不至於極凶。" : "視生克強弱斟酌吉凶。"} </li> </ol> </div> <div className="flex items-start gap-2 text-muted-foreground"> <Info className="h-4 w-4 mt-1"/> <p> 註：以上為示範性規則。實務可另行加入世應、六親、爻辭、旺相休囚等進階權重，以提升判讀準確度。 </p> </div> </CardContent> </Card> </div> ); }

export default function MeihuaDivinationApp() { // 預設示例：澤火革（下離、上兌），初爻動 ⇒ 變卦澤山咸 const [lower, setLower] = useState<TrigramKey>("離"); const [upper, setUpper] = useState<TrigramKey>("兌"); const [movingLine, setMovingLine] = useState<number>(1); // 1~6 const [activeTab, setActiveTab] = useState("human");

const base = useMemo(()=>buildHexagram(lower, upper), [lower, upper]); const changed = useMemo(()=>{ const nextLines = flipAt(base.lines, movingLine); return hexFromLines(nextLines); }, [base, movingLine]); const mutual = useMemo(()=>mutualHexagram(base.lines), [base]);

const relationTextBase = () => { // 說明本卦/互卦/變卦（精簡） return 本卦：下${base.lower.key}${base.lower.element}、上${base.upper.key}${base.upper.element}；互卦：下${mutual.lower.key}${mutual.lower.element}、上${mutual.upper.key}${mutual.upper.element}；變卦：下${changed.lower.key}${changed.lower.element}、上${changed.upper.key}${changed.upper.element}; };

const resetToExample = () => { setLower("離"); setUpper("兌"); setMovingLine(1); setActiveTab("human"); };

return ( <div className="min-h-screen bg-gradient-to-b from-white to-slate-50 p-6 md:p-10 text-slate-800"> <div className="mx-auto max-w-4xl space-y-6"> <header className="flex items-center justify-between"> <motion.h1 initial={{opacity:0,y:8}} animate={{opacity:1,y:0}} className="text-2xl md:text-3xl font-bold tracking-tight"> 梅花心易｜五行定吉凶（五面向分析 Demo） </motion.h1> <Button variant="outline" onClick={resetToExample} className="gap-2"><RefreshCw className="h-4 w-4"/>重置示例</Button> </header>

<Card>
      <CardHeader>
        <CardTitle>輸入區</CardTitle>
      </CardHeader>
      <CardContent className="grid md:grid-cols-3 gap-4">
        <div className="space-y-2">
          <label className="text-sm font-medium">下卦（內卦）</label>
          <Select value={lower} onValueChange={(v)=>setLower(v as TrigramKey)}>
            <SelectTrigger><SelectValue placeholder="選擇下卦"/></SelectTrigger>
            <SelectContent className="max-h-72">
              {TRIGRAMS.map(t=> (
                <SelectItem key={t.key} value={t.key}>{t.key}（{t.symbol}／{t.element}）</SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>

        <div className="space-y-2">
          <label className="text-sm font-medium">上卦（外卦）</label>
          <Select value={upper} onValueChange={(v)=>setUpper(v as TrigramKey)}>
            <SelectTrigger><SelectValue placeholder="選擇上卦"/></SelectTrigger>
            <SelectContent className="max-h-72">
              {TRIGRAMS.map(t=> (
                <SelectItem key={t.key} value={t.key}>{t.key}（{t.symbol}／{t.element}）</SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>

        <div className="space-y-2">
          <label className="text-sm font-medium">動爻（1~6，自下而上）</label>
          <Input type="number" min={1} max={6} step={1} value={movingLine}
            onChange={(e)=> setMovingLine(Math.min(6, Math.max(1, Number(e.target.value)||1)))} />
        </div>
      </CardContent>
    </Card>

    <Card>
      <CardHeader>
        <CardTitle>推算結果</CardTitle>
      </CardHeader>
      <CardContent className="grid md:grid-cols-3 gap-4 text-sm">
        <div className="space-y-2">
          <div className="font-medium">本卦</div>
          <div>下：{base.lower.key}（{base.lower.symbol}／{base.lower.element}）</div>
          <div>上：{base.upper.key}（{base.upper.symbol}／{base.upper.element}）</div>
        </div>
        <div className="space-y-2">
          <div className="font-medium">互卦</div>
          <div>下：{mutual.lower.key}（{mutual.lower.symbol}／{mutual.lower.element}）</div>
          <div>上：{mutual.upper.key}（{mutual.upper.symbol}／{mutual.upper.element}）</div>
        </div>
        <div className="space-y-2">
          <div className="font-medium">變卦</div>
          <div>下：{changed.lower.key}（{changed.lower.symbol}／{changed.lower.element}）</div>
          <div>上：{changed.upper.key}（{changed.upper.symbol}／{changed.upper.element}）</div>
        </div>
      </CardContent>
    </Card>

    <Tabs value={activeTab} onValueChange={setActiveTab} className="mt-2">
      <TabsList className="grid grid-cols-5">
        <TabsTrigger value="human">人</TabsTrigger>
        <TabsTrigger value="event">事</TabsTrigger>
        <TabsTrigger value="time">時</TabsTrigger>
        <TabsTrigger value="place">地</TabsTrigger>
        <TabsTrigger value="object">物</TabsTrigger>
      </TabsList>

      <TabsContent value="human">
        <HumanInterpretation base={base} changed={changed} mutual={mutual} movingLine={movingLine} />
      </TabsContent>

      <TabsContent value="event">
        <Card>
          <CardHeader>
            <CardTitle>「事」的判讀框架（待填入）</CardTitle>
          </CardHeader>
          <CardContent className="text-sm leading-7">
            <p>
              可依五行生克強弱推事勢：本卦（用對體）主當下形勢；互卦主過程與中間人物；變卦主趨勢與結果。
              你可以在此加入「六親對應到事件角色」、「用神/忌神選取」、「旺相休囚」等規則，並以程式權重化。
            </p>
          </CardContent>
        </Card>
      </TabsContent>

      <TabsContent value="time">
        <Card>
          <CardHeader>
            <CardTitle>「時」的判讀框架（待填入）</CardTitle>
          </CardHeader>
          <CardContent className="text-sm leading-7">
            <p>
              以納甲或月日辰納音取用神之旺衰，或以互卦、變卦之生扶/剋泄定時間窗口；可增設「木旺在春、火旺在夏、金旺在秋、水旺在冬、土旺於四季末」等季節權重。
            </p>
          </CardContent>
        </Card>
      </TabsContent>

      <TabsContent value="place">
        <Card>
          <CardHeader>
            <CardTitle>「地」的判讀框架（待填入）</CardTitle>
          </CardHeader>
          <CardContent className="text-sm leading-7">
            <p>
              以卦象方位與五行對應地理特徵：如兌為西、澤；離為南、火熱；艮為東北、山；巽為東南、風/木；據此推測方位與環境屬性。
            </p>
          </CardContent>
        </Card>
      </TabsContent>

      <TabsContent value="object">
        <Card>
          <CardHeader>
            <CardTitle>「物」的判讀框架（待填入）</CardTitle>
          </CardHeader>
          <CardContent className="text-sm leading-7">
            <p>
              依卦象取物：離為光明/電器/文書，兌為金屬/口舌之物，巽為木製/可彎曲物，艮為石土/止物……可把資料表放在 JSON，配對權重後列表化呈現。
            </p>
          </CardContent>
        </Card>
      </TabsContent>
    </Tabs>

    <Card>
      <CardHeader>
        <CardTitle>說明與擴充建議</CardTitle>
      </CardHeader>
      <CardContent className="text-sm leading-7 space-y-2">
        <p>
          本 Demo 以最小規則展示「本卦（動對體）→ 互卦（上對下）→ 變卦（下對上）」的生克串接，並以「人」面向輸出語句。
        </p>
        <ul className="list-disc pl-5 space-y-1">
          <li>要加入多動爻：把 <code>movingLine</code> 改成陣列，逐一翻爻再彙總生克（可做強弱加權）。</li>
          <li>要接資料庫：把八卦對應、人物、部位、方位轉為 JSON/DB，前端讀入動態渲染。</li>
          <li>要做教學模式：顯示每一步陽陰線條動畫，標示互卦的取爻（2~4、3~5）。</li>
          <li>要做專業版：加入六親、世應、用忌、旺相休囚、年月日時等，並提供規則編輯器。</li>
        </ul>
        <p className="text-muted-foreground">注意：傳統對應存在流派差異，請依你的體系調整。</p>
      </CardContent>
    </Card>

    <footer className="text-xs text-slate-500 text-center pt-4">
      © {new Date().getFullYear()} 梅花心易前端示範 — 可自由改作商業/教學用途。
    </footer>
  </div>
</div>

); }

